<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CMPM121 - Web Game</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <main id="app">
      <h1 id="title">CMPM121 - Final Project</h1>
      <h3 id="groupMembers">Brody, Elijah, Joshua, Tina</h3>
      <div id="scene-container" style="width: 100%; height: 600px"></div>
      <div
        style="text-align: center; margin-top: 10px; font-size: 16px; color: #555"
      >
        <strong>Controls:</strong> W/A/S/D to move | Right-click drag to look
        around | Left-click to iteract | SPACE to throw
      </div>
      <div
        id="target-message"
        style="display: none; text-align: center; font-size: 24px; color: #4caf50; font-weight: bold; margin-top: 20px"
      >
        Congrats you hit the target!
      </div>
      <div
        id="victory-overlay"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 9999; justify-content: center; align-items: center"
      >
        <div style="text-align: center; color: white">
          <h1 style="font-size: 72px; margin: 0; text-shadow: 0 0 20px gold">
            ðŸŽ‰ VICTORY! ðŸŽ‰
          </h1>
          <p style="font-size: 32px; margin-top: 20px">
            You completed the game!
          </p>
          <button
            id="reset-button"
            onclick="location.reload()"
            style="margin-top: 40px; padding: 20px 40px; font-size: 24px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; cursor: pointer; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); transition: transform 0.2s"
            onmouseover="this.style.transform='scale(1.1)'"
            onmouseout="this.style.transform='scale(1)'"
          >
            Play Again
          </button>
        </div>
      </div>
      <div
        id="loss-overlay"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 9999; justify-content: center; align-items: center"
      >
        <div style="text-align: center; color: white">
          <h1 style="font-size: 72px; margin: 0; text-shadow: 0 0 20px gold">
            LOSE!
          </h1>
          <p style="font-size: 32px; margin-top: 20px">
            You ran out of oxygen!
          </p>
          <button
            id="reset-button"
            onclick="location.reload()"
            style="margin-top: 40px; padding: 20px 40px; font-size: 24px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; cursor: pointer; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); transition: transform 0.2s"
            onmouseover="this.style.transform='scale(1.1)'"
            onmouseout="this.style.transform='scale(1)'"
          >
            Play Again
          </button>
        </div>
      </div>
    </main>

    <!-- Load Ammo.js first and wait for it to initialize before loading boot.js -->
    <script
      src="https://cdn.jsdelivr.net/gh/kripken/ammo.js@HEAD/builds/ammo.js"
    ></script>
    <script type="module">
      if (typeof Ammo === "function") {
        Ammo().then((AmmoLib) => {
          window.Ammo = AmmoLib;
          import("./src/boot.js");
        });
      } else {
        console.warn("Ammo failed to load, starting without physics.");
        import("./src/boot.js");
      }
    </script>
  </body>
</html>
